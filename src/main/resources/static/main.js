/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

eval("/**\n * Created by Bayview on 2018/3/2.\n */\nvar id = webix.uid();\n\nfunction load() {\n    $.ajax(\n        {\n            url:\"/user/alls\",\n            method:\"post\",\n            success:function (data) {\n                $$(id).clearAll();\n                var index = 1;\n                data.forEach(function (cell) {\n                   cell.idx = cell.id;\n                   cell.id = index++;\n                });\n                $$(id).parse(data);\n            }\n        }\n    )\n}\n\nfunction add() {\n    var formId = webix.uid();\n    webix.ui({\n        view:\"window\",\n        model:true,\n        position:\"center\",\n        head:\"添加用户\",\n        body:{\n            id:formId,\n            view:\"form\",\n            elements:[\n                {view:\"text\",name:\"username\",label:\"用户名\",labelWidth:60},\n                {view:\"text\",name:\"password\",label:\"密码\",labelWidth:60},\n                {view:\"button\",value:\"添加\",click:function () {\n                    var values = $$(formId).getValues();\n                    $.ajax({\n                        url:\"/user/insert\",\n                        method:\"post\",\n                        data:JSON.stringify(values),\n                        dataType:\"json\",\n                        contentType: \"application/json; charset=utf-8\",\n                        success:function (data) {\n                            load();\n                            $$(formId).getParentView().close();\n                        }\n                    })\n                }}\n            ]\n        }\n    }).show();\n}\n\nfunction update() {\n    var formId = webix.uid();\n    var data = $$(id).getSelectedItem();\n    if(!data){\n        webix.message(\"请选中一条数据再修改\",\"error\",4000);\n        return;\n    }\n    webix.ui({\n        view:\"window\",\n        model:true,\n        position:\"center\",\n        head:\"添加用户\",\n        body:{\n            id:formId,\n            view:\"form\",\n            elements:[\n                {view:\"text\",name:\"username\",label:\"用户名\",labelWidth:60,value:data.username},\n                {view:\"text\",name:\"password\",label:\"密码\",labelWidth:60,value:data.password},\n                {view:\"button\",value:\"修改\",click:function () {\n                    var values = $$(formId).getValues();\n                    webix.extend(data,values,true);\n                    data.id = data.idx;\n                    $.ajax({\n                        url:\"/user/update\",\n                        method:\"post\",\n                        data:JSON.stringify(data),\n                        dataType:\"json\",\n                        contentType: \"application/json; charset=utf-8\",\n                        success:function () {\n                            load();\n                            $$(formId).getParentView().close();\n                        }\n                    })\n                }}\n            ]\n        }\n    }).show()\n}\n\nfunction remove() {\n    var data = $$(id).getSelectedItem();\n    if(!data){\n        webix.message(\"请选中一条数据再修改\",\"error\",4000);\n        return;\n    }\n    data.id = data.idx;\n    webix.confirm({\n        text:\"是否删除选中用户\",\n        callback:function (r) {\n            if(r){\n                $.ajax({\n                    url:\"/user/delete\",\n                    method:\"post\",\n                    data:JSON.stringify(data),\n                    contentType: \"application/json; charset=utf-8\",\n                    success:function (data) {\n                        load();\n                    },error:function (data) {\n                        load();\n                    }\n                })\n            }\n        }\n    })\n}\nwebix.ui({\n    container:\"root\",\n    rows:[\n        {\n            view:\"toolbar\",\n            cols:[\n                { view:\"button\", value:\"加载\", width:100,click:load},\n                { view:\"button\", value:\"添加\", width:100,click:add},\n                { view:\"button\", value:\"删除\", width:100,click:remove},\n                { view:\"button\", value:\"修改\", width:100,click:update},\n            ],\n        },{\n            id:id,\n            view:\"datatable\",\n            columns:[\n                {id:\"username\",header:\"用户名\",width:200},\n                {id:\"password\",header:\"密码\",width:200}\n            ],\n            select:\"row\",\n            data:[],\n            ready:function () {\n                load();\n            }\n        }\n    ]\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvaW5kZXguanM/ZGFkYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzREFBc0Q7QUFDdkUsaUJBQWlCLHFEQUFxRDtBQUN0RSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwRUFBMEU7QUFDM0YsaUJBQWlCLHlFQUF5RTtBQUMxRixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlEQUFpRDtBQUNsRSxpQkFBaUIsZ0RBQWdEO0FBQ2pFLGlCQUFpQixtREFBbUQ7QUFDcEUsaUJBQWlCLG1EQUFtRDtBQUNwRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUNBQXFDO0FBQ3RELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IEJheXZpZXcgb24gMjAxOC8zLzIuXG4gKi9cbnZhciBpZCA9IHdlYml4LnVpZCgpO1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICAgICQuYWpheChcbiAgICAgICAge1xuICAgICAgICAgICAgdXJsOlwiL3VzZXIvYWxsc1wiLFxuICAgICAgICAgICAgbWV0aG9kOlwicG9zdFwiLFxuICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICQkKGlkKS5jbGVhckFsbCgpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDE7XG4gICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgICAgY2VsbC5pZHggPSBjZWxsLmlkO1xuICAgICAgICAgICAgICAgICAgIGNlbGwuaWQgPSBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQkKGlkKS5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIClcbn1cblxuZnVuY3Rpb24gYWRkKCkge1xuICAgIHZhciBmb3JtSWQgPSB3ZWJpeC51aWQoKTtcbiAgICB3ZWJpeC51aSh7XG4gICAgICAgIHZpZXc6XCJ3aW5kb3dcIixcbiAgICAgICAgbW9kZWw6dHJ1ZSxcbiAgICAgICAgcG9zaXRpb246XCJjZW50ZXJcIixcbiAgICAgICAgaGVhZDpcIua3u+WKoOeUqOaIt1wiLFxuICAgICAgICBib2R5OntcbiAgICAgICAgICAgIGlkOmZvcm1JZCxcbiAgICAgICAgICAgIHZpZXc6XCJmb3JtXCIsXG4gICAgICAgICAgICBlbGVtZW50czpbXG4gICAgICAgICAgICAgICAge3ZpZXc6XCJ0ZXh0XCIsbmFtZTpcInVzZXJuYW1lXCIsbGFiZWw6XCLnlKjmiLflkI1cIixsYWJlbFdpZHRoOjYwfSxcbiAgICAgICAgICAgICAgICB7dmlldzpcInRleHRcIixuYW1lOlwicGFzc3dvcmRcIixsYWJlbDpcIuWvhueggVwiLGxhYmVsV2lkdGg6NjB9LFxuICAgICAgICAgICAgICAgIHt2aWV3OlwiYnV0dG9uXCIsdmFsdWU6XCLmt7vliqBcIixjbGljazpmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSAkJChmb3JtSWQpLmdldFZhbHVlcygpO1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOlwiL3VzZXIvaW5zZXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6XCJwb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOkpTT04uc3RyaW5naWZ5KHZhbHVlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTpcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCQoZm9ybUlkKS5nZXRQYXJlbnRWaWV3KCkuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSkuc2hvdygpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIGZvcm1JZCA9IHdlYml4LnVpZCgpO1xuICAgIHZhciBkYXRhID0gJCQoaWQpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgIGlmKCFkYXRhKXtcbiAgICAgICAgd2ViaXgubWVzc2FnZShcIuivt+mAieS4reS4gOadoeaVsOaNruWGjeS/ruaUuVwiLFwiZXJyb3JcIiw0MDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB3ZWJpeC51aSh7XG4gICAgICAgIHZpZXc6XCJ3aW5kb3dcIixcbiAgICAgICAgbW9kZWw6dHJ1ZSxcbiAgICAgICAgcG9zaXRpb246XCJjZW50ZXJcIixcbiAgICAgICAgaGVhZDpcIua3u+WKoOeUqOaIt1wiLFxuICAgICAgICBib2R5OntcbiAgICAgICAgICAgIGlkOmZvcm1JZCxcbiAgICAgICAgICAgIHZpZXc6XCJmb3JtXCIsXG4gICAgICAgICAgICBlbGVtZW50czpbXG4gICAgICAgICAgICAgICAge3ZpZXc6XCJ0ZXh0XCIsbmFtZTpcInVzZXJuYW1lXCIsbGFiZWw6XCLnlKjmiLflkI1cIixsYWJlbFdpZHRoOjYwLHZhbHVlOmRhdGEudXNlcm5hbWV9LFxuICAgICAgICAgICAgICAgIHt2aWV3OlwidGV4dFwiLG5hbWU6XCJwYXNzd29yZFwiLGxhYmVsOlwi5a+G56CBXCIsbGFiZWxXaWR0aDo2MCx2YWx1ZTpkYXRhLnBhc3N3b3JkfSxcbiAgICAgICAgICAgICAgICB7dmlldzpcImJ1dHRvblwiLHZhbHVlOlwi5L+u5pS5XCIsY2xpY2s6ZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gJCQoZm9ybUlkKS5nZXRWYWx1ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgd2ViaXguZXh0ZW5kKGRhdGEsdmFsdWVzLHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmlkID0gZGF0YS5pZHg7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6XCIvdXNlci91cGRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDpcInBvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTpcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkJChmb3JtSWQpLmdldFBhcmVudFZpZXcoKS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9KS5zaG93KClcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIHZhciBkYXRhID0gJCQoaWQpLmdldFNlbGVjdGVkSXRlbSgpO1xuICAgIGlmKCFkYXRhKXtcbiAgICAgICAgd2ViaXgubWVzc2FnZShcIuivt+mAieS4reS4gOadoeaVsOaNruWGjeS/ruaUuVwiLFwiZXJyb3JcIiw0MDAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYXRhLmlkID0gZGF0YS5pZHg7XG4gICAgd2ViaXguY29uZmlybSh7XG4gICAgICAgIHRleHQ6XCLmmK/lkKbliKDpmaTpgInkuK3nlKjmiLdcIixcbiAgICAgICAgY2FsbGJhY2s6ZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmKHIpe1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDpcIi91c2VyL2RlbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6XCJwb3N0XCIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6SlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9LGVycm9yOmZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcbn1cbndlYml4LnVpKHtcbiAgICBjb250YWluZXI6XCJyb290XCIsXG4gICAgcm93czpbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXc6XCJ0b29sYmFyXCIsXG4gICAgICAgICAgICBjb2xzOltcbiAgICAgICAgICAgICAgICB7IHZpZXc6XCJidXR0b25cIiwgdmFsdWU6XCLliqDovb1cIiwgd2lkdGg6MTAwLGNsaWNrOmxvYWR9LFxuICAgICAgICAgICAgICAgIHsgdmlldzpcImJ1dHRvblwiLCB2YWx1ZTpcIua3u+WKoFwiLCB3aWR0aDoxMDAsY2xpY2s6YWRkfSxcbiAgICAgICAgICAgICAgICB7IHZpZXc6XCJidXR0b25cIiwgdmFsdWU6XCLliKDpmaRcIiwgd2lkdGg6MTAwLGNsaWNrOnJlbW92ZX0sXG4gICAgICAgICAgICAgICAgeyB2aWV3OlwiYnV0dG9uXCIsIHZhbHVlOlwi5L+u5pS5XCIsIHdpZHRoOjEwMCxjbGljazp1cGRhdGV9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBpZDppZCxcbiAgICAgICAgICAgIHZpZXc6XCJkYXRhdGFibGVcIixcbiAgICAgICAgICAgIGNvbHVtbnM6W1xuICAgICAgICAgICAgICAgIHtpZDpcInVzZXJuYW1lXCIsaGVhZGVyOlwi55So5oi35ZCNXCIsd2lkdGg6MjAwfSxcbiAgICAgICAgICAgICAgICB7aWQ6XCJwYXNzd29yZFwiLGhlYWRlcjpcIuWvhueggVwiLHdpZHRoOjIwMH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzZWxlY3Q6XCJyb3dcIixcbiAgICAgICAgICAgIGRhdGE6W10sXG4gICAgICAgICAgICByZWFkeTpmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXVxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9hcHAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ })
/******/ ]);